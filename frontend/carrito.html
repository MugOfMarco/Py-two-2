<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de Compras - œÄ two 2</title>
    <link rel="stylesheet" href="/frontend/public/css/carrito.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">
                        <h1>œÄ two 2</h1>
                        <span class="tagline">Tu bienestar √≠ntimo</span>
                    </a>
                </div>
                
                <div class="search-bar">
                    <input type="text" placeholder="Buscar productos...">
                    <button class="search-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </button>
                </div>
                
                <div class="header-icons">
                    <a href="login.html" class="icon-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <span>Cuenta</span>
                    </a>
                    <a href="cart.html" class="icon-btn cart-btn active">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                        <span class="cart-count">0</span>
                        <span>Carrito</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Navegaci√≥n de categor√≠as -->
    <nav class="category-nav">
        <div class="container">
            <a href="bdsm.html" class="nav-link">BDSM</a>
            <a href="bienestar.html" class="nav-link">Bienestar</a>
            <a href="juguetes.html" class="nav-link">Juguetes</a>
            <a href="lenceria.html" class="nav-link">Lencer√≠a</a>
        </div>
    </nav>

    <!-- Banner del Carrito -->
    <section class="cart-banner">
        <div class="container">
            <h1>üõí Mi Carrito de Compras</h1>
            <p>Revisa tus productos antes de finalizar tu compra</p>
        </div>
    </section>

    <!-- Contenido del Carrito -->
    <section class="cart-content">
        <div class="container">
            <div class="cart-layout">
                
                <!-- Lista de Productos -->
                <div class="cart-items">
                    <div class="cart-header">
                        <h2>Productos en tu carrito (<span id="items-count">3</span>)</h2>
                        <button class="clear-cart" onclick="clearCart()">Vaciar carrito</button>
                    </div>

                    <!-- PRODUCTO 1 EN CARRITO -->
                    <div class="cart-item" data-id="1">
                        <div class="item-image">
                            <!-- Aqu√≠ ir√° la imagen del producto -->
                            <div class="placeholder-img">‚ú®</div>
                        </div>
                        <div class="item-details">
                            <h3 class="item-name">Vibrador Recargable Premium</h3>
                            <p class="item-description">10 modos de vibraci√≥n, resistente al agua</p>
                            <p class="item-category">Categor√≠a: Juguetes</p>
                        </div>
                        <div class="item-quantity">
                            <button class="qty-btn" onclick="updateQuantity(1, -1)">-</button>
                            <span class="qty-value" id="qty-1">1</span>
                            <button class="qty-btn" onclick="updateQuantity(1, 1)">+</button>
                        </div>
                        <div class="item-price">
                            <p class="price">$1,499</p>
                        </div>
                        <button class="remove-item" onclick="removeItem(1)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 6h18"></path>
                                <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
                                <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
                            </svg>
                        </button>
                    </div>

                    <!-- PRODUCTO 2 EN CARRITO -->
                    <div class="cart-item" data-id="2">
                        <div class="item-image">
                            <div class="placeholder-img">üíú</div>
                        </div>
                        <div class="item-details">
                            <h3 class="item-name">Conjunto Encaje Premium Negro</h3>
                            <p class="item-description">Brasier y panty, dise√±o elegante</p>
                            <p class="item-category">Categor√≠a: Lencer√≠a</p>
                        </div>
                        <div class="item-quantity">
                            <button class="qty-btn" onclick="updateQuantity(2, -1)">-</button>
                            <span class="qty-value" id="qty-2">2</span>
                            <button class="qty-btn" onclick="updateQuantity(2, 1)">+</button>
                        </div>
                        <div class="item-price">
                            <p class="price">$899</p>
                        </div>
                        <button class="remove-item" onclick="removeItem(2)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 6h18"></path>
                                <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
                                <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
                            </svg>
                        </button>
                    </div>

                    <!-- PRODUCTO 3 EN CARRITO -->
                    <div class="cart-item" data-id="3">
                        <div class="item-image">
                            <div class="placeholder-img">üõ°Ô∏è</div>
                        </div>
                        <div class="item-details">
                            <h3 class="item-name">Condones Premium Pack 12</h3>
                            <p class="item-description">Ultra delgados, m√°xima sensibilidad</p>
                            <p class="item-category">Categor√≠a: Bienestar</p>
                        </div>
                        <div class="item-quantity">
                            <button class="qty-btn" onclick="updateQuantity(3, -1)">-</button>
                            <span class="qty-value" id="qty-3">1</span>
                            <button class="qty-btn" onclick="updateQuantity(3, 1)">+</button>
                        </div>
                        <div class="item-price">
                            <p class="price">$299</p>
                        </div>
                        <button class="remove-item" onclick="removeItem(3)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 6h18"></path>
                                <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
                                <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
                            </svg>
                        </button>
                    </div>

                    <!-- Mensaje de carrito vac√≠o (oculto por defecto) -->
                    <div class="empty-cart" style="display: none;">
                        <div class="empty-icon">üõí</div>
                        <h3>Tu carrito est√° vac√≠o</h3>
                        <p>Agrega productos para comenzar tu compra</p>
                        <a href="index.html" class="btn-shop">Ir a la tienda</a>
                    </div>
                </div>

                <!-- Resumen de Compra -->
                <div class="cart-summary">
                    <h2>Resumen de compra</h2>
                    
                    <div class="summary-item">
                        <span>Subtotal</span>
                        <span id="subtotal">$3,596</span>
                    </div>
                    
                    <div class="summary-item">
                        <span>Env√≠o</span>
                        <span class="shipping-free">GRATIS</span>
                    </div>

                    <div class="summary-item">
                        <span>IVA (16%)</span>
                        <span id="iva">$575</span>
                    </div>
                    
                    <div class="summary-divider"></div>
                    
                    <div class="summary-total">
                        <span>Total</span>
                        <span id="total">$4,171</span>
                    </div>

                    <button class="btn-checkout" onclick="checkout()">
                        Proceder al pago
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14"></path>
                            <path d="m12 5 7 7-7 7"></path>
                        </svg>
                    </button>

                    <div class="security-badges">
                        <div class="badge">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                            </svg>
                            <span>Compra segura</span>
                        </div>
                        <div class="badge">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                <line x1="1" y1="10" x2="23" y2="10"></line>
                            </svg>
                            <span>Pago protegido</span>
                        </div>
                    </div>

                    <a href="index.html" class="continue-shopping">‚Üê Seguir comprando</a>
                </div>

            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>œÄ two 2</h3>
                    <p>Tu tienda de confianza para el bienestar √≠ntimo</p>
                </div>
                <div class="footer-section">
                    <h4>Ayuda</h4>
                    <ul>
                        <li><a href="#">Preguntas frecuentes</a></li>
                        <li><a href="#">Env√≠os</a></li>
                        <li><a href="#">Devoluciones</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="#">T√©rminos y condiciones</a></li>
                        <li><a href="#">Pol√≠tica de privacidad</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 œÄ two 2. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Base de datos de productos
        const products = {
            1: { name: 'Vibrador Recargable Premium', price: 1499 },
            2: { name: 'Conjunto Encaje Premium Negro', price: 899 },
            3: { name: 'Condones Premium Pack 12', price: 299 }
        };

        // Actualizar cantidad
        function updateQuantity(id, change) {
            const qtyElement = document.getElementById(`qty-${id}`);
            let currentQty = parseInt(qtyElement.textContent);
            let newQty = currentQty + change;
            
            if (newQty < 1) newQty = 1;
            if (newQty > 10) newQty = 10;
            
            qtyElement.textContent = newQty;
            updateTotals();
        }

        // Eliminar producto
        function removeItem(id) {
            const item = document.querySelector(`[data-id="${id}"]`);
            item.style.animation = 'slideOut 0.3s ease';
            setTimeout(() => {
                item.remove();
                updateTotals();
                checkEmptyCart();
            }, 300);
        }

        // Vaciar carrito
        function clearCart() {
            if (confirm('¬øEst√°s seguro de que quieres vaciar el carrito?')) {
                document.querySelectorAll('.cart-item').forEach(item => item.remove());
                checkEmptyCart();
                updateTotals();
                localStorage.setItem('cartCount', 0);
                document.querySelector('.cart-count').textContent = 0;
            }
        }

        // Verificar si el carrito est√° vac√≠o
        function checkEmptyCart() {
            const items = document.querySelectorAll('.cart-item');
            const emptyCart = document.querySelector('.empty-cart');
            const cartHeader = document.querySelector('.cart-header');
            const summary = document.querySelector('.cart-summary');
            
            if (items.length === 0) {
                emptyCart.style.display = 'flex';
                cartHeader.style.display = 'none';
                summary.style.display = 'none';
            }
        }

        // Actualizar totales
        function updateTotals() {
            let subtotal = 0;
            const items = document.querySelectorAll('.cart-item');
            
            items.forEach(item => {
                const id = item.getAttribute('data-id');
                const qty = parseInt(document.getElementById(`qty-${id}`).textContent);
                subtotal += products[id].price * qty;
            });
            
            const iva = Math.round(subtotal * 0.16);
            const total = subtotal + iva;
            
            document.getElementById('subtotal').textContent = `$${subtotal.toLocaleString()}`;
            document.getElementById('iva').textContent = `$${iva.toLocaleString()}`;
            document.getElementById('total').textContent = `$${total.toLocaleString()}`;
            document.getElementById('items-count').textContent = items.length;
            
            // Actualizar contador del header
            let totalItems = 0;
            items.forEach(item => {
                const id = item.getAttribute('data-id');
                totalItems += parseInt(document.getElementById(`qty-${id}`).textContent);
            });
            document.querySelector('.cart-count').textContent = totalItems;
            localStorage.setItem('cartCount', totalItems);
        }

        // Proceder al pago
        function checkout() {
            alert('Redirigiendo al proceso de pago...\n\nEn producci√≥n, aqu√≠ se conectar√≠a con tu pasarela de pagos.');
            // Aqu√≠ conectar√≠as con tu API de pagos
        }

        // Cargar contador desde localStorage
        window.addEventListener('load', () => {
            const cartCount = parseInt(localStorage.getItem('cartCount')) || 0;
            document.querySelector('.cart-count').textContent = cartCount;
        });
    </script>
</body>
</html>